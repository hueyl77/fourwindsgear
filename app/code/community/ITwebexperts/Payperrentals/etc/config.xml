<?xml version="1.0"?>
<config>
    <modules>
        <ITwebexperts_Payperrentals>
            <version>1.4.20150912</version>
        </ITwebexperts_Payperrentals>
    </modules>
    <frontend>
        <routers>
            <payperrentals_front>
                <use>standard</use>
                <args>
                    <module>ITwebexperts_Payperrentals</module>
                    <frontName>payperrentals</frontName>
                </args>
            </payperrentals_front>
        </routers>
        <layout>
            <updates>
                <payperrentals>
                    <file>payperrentals.xml</file>
                </payperrentals>
            </updates>
            <jstranslate>
                <file>jstranslator.xml</file>
            </jstranslate>
        </layout>
        <translate>
            <modules>
                <ITwebexperts_Payperrentals>
                    <files>
                        <default>ITwebexperts_Payperrentals.csv</default>
                    </files>
                </ITwebexperts_Payperrentals>
            </modules>
        </translate>
        <events>
            <catalog_product_collection_load_before>
                <observers>
                    <payperrental_load_collection_after>
                        <class>payperrentals/observer</class>
                        <method>loadBeforeCollection</method>
                    </payperrental_load_collection_after>
                </observers>
            </catalog_product_collection_load_before>
            <checkout_cart_product_add_after>
                <observers>
                    <payperrental_same_dates_all_items>
                        <class>payperrentals/observer</class>
                        <method>sameDatesAllProducts</method>
                    </payperrental_same_dates_all_items>
                </observers>
            </checkout_cart_product_add_after>
            <sales_order_status_after>
                <observers>
                    <payperrentals_observer_status>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>reserveInventoryByStatus</method>
                    </payperrentals_observer_status>
                </observers>
            </sales_order_status_after>
            <sales_order_place_after>
                <observers>
                    <payperrentals_observer_reserve>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>reserveInventoryAndSignature</method>
                    </payperrentals_observer_reserve>
                </observers>
            </sales_order_place_after>
            <sales_quote_item_save_after>
                <observers>
                    <payperrentals_observer_one>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>updateCartReservation</method>
                    </payperrentals_observer_one>
                </observers>
            </sales_quote_item_save_after>
            <bundle_product_view_config>
                <observers>
                    <payperrentals_observer_bundle_config>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>bundleProductConfig</method>
                    </payperrentals_observer_bundle_config>
                </observers>
            </bundle_product_view_config>
            <controller_action_predispatch>
                <observers>
                    <controller_action_before>
                        <class>payperrentals/observer</class>
                        <method>hookToControllerActionPreDispatch</method>
                    </controller_action_before>
                </observers>
            </controller_action_predispatch>
            <cart_updatepost_before>
                <observers>
                    <payperrentals_observer_before_save>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>beforeUpdatePostCart</method>
                    </payperrentals_observer_before_save>
                </observers>
            </cart_updatepost_before>
            <checkout_cart_update_items_before>
                <observers>
                    <payperrentals_observer_items_before>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>checkDamageWaiver</method>
                    </payperrentals_observer_items_before>
                </observers>
            </checkout_cart_update_items_before>
            <sales_quote_remove_item>
                <observers>
                    <payperrentals_observer_two>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>removeReservationFromCart</method>
                    </payperrentals_observer_two>
                </observers>
            </sales_quote_remove_item>
            <sales_convert_quote_item_to_order_item>
                <observers>
                    <payperrentals_observer_item_to_order_item>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>removeReservationFromCart</method>
                    </payperrentals_observer_item_to_order_item>
                </observers>
            </sales_convert_quote_item_to_order_item>
            <sales_quote_merge_after>
                <observers>
                    <payperrentals_observer_quote_merge_after>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>quoteMergeAfter</method>
                    </payperrentals_observer_quote_merge_after>
                </observers>
            </sales_quote_merge_after>
            <sales_order_save_before>
                <observers>
                    <payperrentals_observer_save_before2>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>saveOrderBefore</method>
                    </payperrentals_observer_save_before2>
                </observers>
            </sales_order_save_before>
            <prepare_buy_request_cart_advanced>
                <observers>
                    <payperrentals_prepare_buy_request_cart_advanced>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>prepareBuyRequestCartAdvanced</method>
                    </payperrentals_prepare_buy_request_cart_advanced>
                </observers>
            </prepare_buy_request_cart_advanced>
        </events>
    </frontend>
    <admin>
        <routers>
            <payperrentals>
                <use>admin</use>
                <args>
                    <module>ITwebexperts_Payperrentals</module>
                    <frontName>payperrentals_admin</frontName>
                </args>
            </payperrentals>
            <adminhtml>
                <args>
                    <modules>
                        <payperrentals before="Mage_Adminhtml">ITwebexperts_Payperrentals_Adminhtml</payperrentals>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <events>
            <!--<core_block_abstract_prepare_layout_before>
                <observers>
                    <block_abstract_prepare_layout_before>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>addMassCustomAction</method>
                    </block_abstract_prepare_layout_before>
                </observers>
            </core_block_abstract_prepare_layout_before>-->
            <sales_order_status_after>
                <observers>
                    <payperrentals_observer_status>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>reserveInventoryByStatus</method>
                    </payperrentals_observer_status>
                </observers>
            </sales_order_status_after>
            <sales_order_place_after>
                <observers>
                    <payperrentals_observer_one>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>reserveInventoryAndSignature</method>
                    </payperrentals_observer_one>
                </observers>
            </sales_order_place_after>
            <sales_convert_quote_to_order>
                <observers>
                    <payperrentals_observer_r>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>convertQuoteToOrder</method>
                    </payperrentals_observer_r>
                </observers>
            </sales_convert_quote_to_order>


            <adminhtml_sales_order_create_process_data_before>
                <observers>
                    <payperrentals_observer_order_create_process_data_before>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>createOrderBeforeSave</method>
                    </payperrentals_observer_order_create_process_data_before>
                </observers>
            </adminhtml_sales_order_create_process_data_before>

        </events>
        <sales>
            <order>
                <create>
                    <available_product_types>
                        <reservation/>
                    </available_product_types>
                </create>
            </order>
        </sales>
        <layout>
            <updates>
                <payperrentals>
                    <file>payperrentals.xml</file>
                </payperrentals>
            </updates>
        </layout>
        <translate>
            <modules>
                <ITwebexperts_Payperrentals>
                    <files>
                        <default>ITwebexperts_Payperrentals.csv</default>
                    </files>
                </ITwebexperts_Payperrentals>
            </modules>
        </translate>
    </adminhtml>
    <global>
        <customer>
            <address>
                <formats>
                    <html_special translate="title" module="customer">
                        <title>HTML special</title>
                        <htmlEscape>true</htmlEscape>
                    </html_special>
                </formats>
            </address>
        </customer>
        <sales>
            <quote>
                <item>
                    <product_attributes>
                        <payperrentals_quantity/>
                        <start_turnover_before/>
                        <end_turnover_after/>
                        <item_booked_serialize/>
                    </product_attributes>
                </item>
                <totals>
                    <depositppr>
                        <class>payperrentals/sales_quote_address_total_depositppr</class>
                        <renderer>payperrentals/sales_order_depositppr</renderer>
                        <after>subtotal</after>
                        <before>tax</before>
                    </depositppr>
                    <damagewaiver>
                        <class>payperrentals/sales_quote_address_total_damagewaiver</class>
                        <after>subtotal</after>
                        <before>tax</before>
                    </damagewaiver>
                </totals>
            </quote>
            <order_invoice>
                <totals>
                    <depositppr>
                        <class>payperrentals/sales_order_total_invoice_depositppr</class>
                    </depositppr>
                    <damagewaiver>
                        <class>payperrentals/sales_order_total_invoice_damagewaiver</class>
                    </damagewaiver>
                </totals>
            </order_invoice>
            <order_creditmemo>
                <totals>
                    <depositppr>
                        <class>payperrentals/sales_order_total_creditmemo_depositppr</class>
                    </depositppr>
                </totals>
            </order_creditmemo>
        </sales>
        <events>
            <sales_order_shipment_save_before>
                <observers>
                    <payperrentals_observer_ship_before>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>salesOrderShipmentSaveBefore</method>
                    </payperrentals_observer_ship_before>
                </observers>
            </sales_order_shipment_save_before>
            <sales_order_save_after>
                <observers>
                    <payperrentals_observer_order_canceller>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>cancelOrder</method>
                    </payperrentals_observer_order_canceller>
                </observers>
            </sales_order_save_after>
            <catalog_controller_product_delete>
                <observers>
                    <payperrentals_observer_product_delete>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>deleteProductBefore</method>
                    </payperrentals_observer_product_delete>
                </observers>
            </catalog_controller_product_delete>
            <adminhtml_customer_prepare_save>
                <observers>
                    <payperrentals_observer_customer_save>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>saveCustomerData</method>
                    </payperrentals_observer_customer_save>
                </observers>
            </adminhtml_customer_prepare_save>
            <sales_order_save_before>
                <observers>
                    <payperrentals_observer_save_before1>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>saveOrderBefore</method>
                    </payperrentals_observer_save_before1>
                </observers>
            </sales_order_save_before>
            <sales_order_item_save_after>
                <observers>
                    <payperrentals_observer_order_item_canceller>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>cancelOrderItem</method>
                    </payperrentals_observer_order_item_canceller>
                </observers>
            </sales_order_item_save_after>
            <core_block_abstract_prepare_layout_before>
                <observers>
                    <payperrentals_core_block_abstract_prepare_layout_before>
                        <class>payperrentals/observer</class>
                        <method>addExportAction</method>
                    </payperrentals_core_block_abstract_prepare_layout_before>
                    <payperrentals_append_custom_product_columns>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>appendCustomColumns</method>
                    </payperrentals_append_custom_product_columns>
                </observers>
            </core_block_abstract_prepare_layout_before>
            <core_block_abstract_prepare_layout_after>
                <observers>
                    <payperrentals_product_grid_dates>
                        <class>payperrentals/observer</class>
                        <method>appendDateFields</method>
                    </payperrentals_product_grid_dates>
                </observers>
            </core_block_abstract_prepare_layout_after>
            <adminhtml_block_html_before>
                <observers>
                    <payperrentals_rename_qty_column>
                        <class>payperrentals/observer</class>
                        <method>renameQtyColumn</method>
                    </payperrentals_rename_qty_column>
                </observers>
            </adminhtml_block_html_before>
            <sales_order_grid_collection_load_before>
                <observers>
                    <payperrental_custgrid>
                        <type>disabled</type>
                        <class>payperrentals/observer</class>
                        <method>salesOrderGridCollectionLoadBefore</method>
                    </payperrental_custgrid>
                </observers>
            </sales_order_grid_collection_load_before>
            <sales_order_invoice_grid_collection_load_before>
                <observers>
                    <payperrental_custgrid11>
                        <class>payperrentals/observer</class>
                        <method>salesOrderInvoiceCollectionLoadBefore</method>
                    </payperrental_custgrid11>
                </observers>
            </sales_order_invoice_grid_collection_load_before>
            <sales_order_creditmemo_grid_collection_load_before>
                <observers>
                    <payperrental_custgrid12>
                        <class>payperrentals/observer</class>
                        <method>salesOrderCreditmemoCollectionLoadBefore</method>
                    </payperrental_custgrid12>
                </observers>
            </sales_order_creditmemo_grid_collection_load_before>
            <sales_order_shipment_grid_collection_load_before>
                <observers>
                    <payperrental_custgrid13>
                        <class>payperrentals/observer</class>
                        <method>salesOrderShipmentCollectionLoadBefore</method>
                    </payperrental_custgrid13>
                </observers>
            </sales_order_shipment_grid_collection_load_before>
            <adminhtml_catalog_product_edit_prepare_form>
                <observers>
                    <payperrentals_observer_product_edit_before>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>editBeforeSave</method>
                    </payperrentals_observer_product_edit_before>
                    <payperrentals_observer_prices>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>showPrices</method>
                    </payperrentals_observer_prices>
                    <payperrentals_observer_exclude>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>showExclude</method>
                    </payperrentals_observer_exclude>
                    <payperrentals_observer_serialn>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>showSerialnumbers</method>
                    </payperrentals_observer_serialn>
                </observers>
            </adminhtml_catalog_product_edit_prepare_form>
            <fooman_emailattachments_before_send_order>
                <observers>
                    <fooman_emailattachments_before_send_order>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>sendContract</method>
                    </fooman_emailattachments_before_send_order>
                </observers>
            </fooman_emailattachments_before_send_order>
            <sales_quote_collect_totals_before>
                <observers>
                    <set_custom_discount_suagrcode_setshippingcost>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>setShippingCostOnExtend</method>
                    </set_custom_discount_suagrcode_setshippingcost>
                </observers>
            </sales_quote_collect_totals_before>
            <sales_order_creditmemo_save_after>
                <observers>
                    <sales_order_creditmemo_sf>
                        <class>payperrentals/observer</class>
                        <method>creditMemoRefund</method>
                    </sales_order_creditmemo_sf>
                </observers>
            </sales_order_creditmemo_save_after>
            <sales_model_service_quote_submit_before>
            	<observers>
                    <sales_model_service_quote_submit_before>
                        <class>payperrentals/observer</class>
                        <method>quoteSubmitBefore</method>
                    </sales_model_service_quote_submit_before>
                </observers>
            </sales_model_service_quote_submit_before>
            <sales_model_service_quote_submit_after>
            	<observers>
                    <sales_model_service_quote_submit_after>
                        <class>payperrentals/observer</class>
                        <method>quoteSubmitAfter</method>
                    </sales_model_service_quote_submit_after>
                </observers>
            </sales_model_service_quote_submit_after>
            <paypal_prepare_line_items>
                <observers>
                    <paypal_prepare_line_items>
                        <!--type>disabled</type-->
                        <class>payperrentals/observer</class>
                        <method>updatePaypalTotal</method>
                    </paypal_prepare_line_items>
                </observers>
            </paypal_prepare_line_items>
            <sales_order_invoice_save_after>
                <observers>
                    <sales_order_invoice_save_after>
                        <class>payperrentals/observer</class>
                        <method>invoiceSaveAfter</method>
                    </sales_order_invoice_save_after>
                </observers>
            </sales_order_invoice_save_after>
            <sales_order_creditmemo_save_after>
                <observers>
                    <sales_order_creditmemo_save_after>
                        <class>payperrentals/observer</class>
                        <method>creditmemoSaveAfter</method>
                    </sales_order_creditmemo_save_after>
                </observers>
            </sales_order_creditmemo_save_after>
            <sales_order_invoice_pay>
                <observers>
                    <payperrentals_observer>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>convertToOrder</method>
                    </payperrentals_observer>
                </observers>
            </sales_order_invoice_pay>
            <checkout_cart_save_after>
                <observers>
                    <payperrentals_checkout_save_one>
                        <type>singleton</type>
                        <class>payperrentals/observer</class>
                        <method>afterCartSave</method>
                    </payperrentals_checkout_save_one>
                </observers>
            </checkout_cart_save_after>
        </events>
        <fieldsets>
            <sales_convert_quote_address>
                <depositppr_amount>
                    <to_order>*</to_order>
                </depositppr_amount>
                <base_depositppr_amount>
                    <to_order>*</to_order>
                </base_depositppr_amount>
                <damage_waiver_amount>
                    <to_order>*</to_order>
                </damage_waiver_amount>
                <base_damage_waiver_amount>
                    <to_order>*</to_order>
                </base_damage_waiver_amount>
            </sales_convert_quote_address>

            <sales_convert_quote_item>
                <start_turnover_before>
                    <to_order_item>*</to_order_item>
                </start_turnover_before>
                <item_booked_serialize>
                    <to_order_item>*</to_order_item>
                </item_booked_serialize>
                <end_turnover_after>
                    <to_order_item>*</to_order_item>
                </end_turnover_after>
            </sales_convert_quote_item>
            <sales_convert_order_item>
                <start_turnover_before>
                    <to_quote_item>*</to_quote_item>
                </start_turnover_before>
                <item_booked_serialize>
                    <to_quote_item>*</to_quote_item>
                </item_booked_serialize>
                <end_turnover_after>
                    <to_quote_item>*</to_quote_item>
                </end_turnover_after>
            </sales_convert_order_item>
        </fieldsets>
        <pdf>
            <totals>
                <depositppr translate="title">
                    <title>Deposit</title>
                    <source_field>deposit_ppr_amount</source_field>
                    <font_size>7</font_size>
                    <display_zero>0</display_zero>
                    <sort_order>650</sort_order>
                    <amount_prefix>-</amount_prefix>
                </depositppr>
                <damagewaiver translate="title">
                    <title>Damage Waiver</title>
                    <source_field>damage_waiver_amount</source_field>
                    <font_size>7</font_size>
                    <display_zero>0</display_zero>
                    <sort_order>550</sort_order>
                    <amount_prefix></amount_prefix>
                </damagewaiver>
            </totals>
            <invoice>
                <bundle>payperrentals/bundle_order_pdf_items_invoice</bundle>
            </invoice>
        </pdf>

        <catalog>
            <product>
                <type>
                    <reservation translate="label" module="payperrentals">
                        <label>Reservation</label>
                        <model>payperrentals/product_type_reservation</model>
                        <!--composite>1</composite-->
                        <is_qty>0</is_qty>
                        <price_model>payperrentals/product_price</price_model>
                    </reservation>
                    <configurable translate="label" module="catalog">
                        <model>payperrentals/product_type_configurable</model>
                        <price_model>payperrentals/product_type_configurable_price</price_model>
                        <composite>1</composite>
                        <allow_product_types>
                            <simple/>
                            <virtual/>
                            <reservation/>
                        </allow_product_types>
                    </configurable>
                    <grouped translate="label" module="catalog">
                        <model>payperrentals/product_type_grouped</model>
                        <composite>1</composite>
                        <allow_product_types>
                            <simple/>
                            <virtual/>
                            <reservation/>
                        </allow_product_types>
                    </grouped>
                    <bundle translate="label" module="bundle">
                        <model>payperrentals/product_type_bundle</model>
                        <price_model>payperrentals/product_type_bundle_price</price_model>
                        <composite>1</composite>
                        <allowed_selection_types>
                            <simple/>
                            <virtual/>
                            <reservation/>
                        </allowed_selection_types>
                    </bundle>
                    <membershippackage translate="label" module="payperrentals">
                        <label>Membership Package</label>
                        <model>payperrentals/product_type_membershippackage</model>
                    </membershippackage>
                </type>

            </product>
        </catalog>

        <models>
            <payperrentals>
                <class>ITwebexperts_Payperrentals_Model</class>
                <resourceModel>payperrentals_mysql4</resourceModel>
            </payperrentals>
            <payperrentals_mysql4>
                <class>ITwebexperts_Payperrentals_Model_Mysql4</class>
                <entities>
                    <excludeddates>
                        <table>payperrentals_excludeddates</table>
                    </excludeddates>
                    <serialnumbers>
                        <table>payperrentals_serialnumbers</table>
                    </serialnumbers>
                    <serialnumbersdetails>
                        <table>payperrentals_serialnumbersdetails</table>
                    </serialnumbersdetails>
                    <reservationorders>
                        <table>payperrentals_reservationorders</table>
                    </reservationorders>
                    <reservationquotes>
                        <table>payperrentals_reservationquotes</table>
                    </reservationquotes>
                    <mailinglog>
                        <table>payperrentals_mailinglog</table>
                    </mailinglog>
                    <sendreturn>
                        <table>payperrentals_sendreturn</table>
                    </sendreturn>
                    <reservationprices>
                        <table>payperrentals_reservationprices</table>
                    </reservationprices>
                    <reservationpricesdates>
                        <table>payperrentals_reservationpricesdates</table>
                    </reservationpricesdates>
                    <fixedrentaldates>
                        <table>payperrentals_fixedrentaldates</table>
                    </fixedrentaldates>
                    <fixedrentalnames>
                        <table>payperrentals_fixedrentalnames</table>
                    </fixedrentalnames>
                    <sendreturndates>
                        <table>payperrentals_sendreturndates</table>
                    </sendreturndates>
                    <rentalqueue>
                        <table>payperrentals_rentalqueue</table>
                    </rentalqueue>
                    <ordertodates>
                        <table>payperrentals_ordertodates</table>
                    </ordertodates>
                    <payment_transaction>
                    	<table>payperrentals_payment_transaction</table>
                    </payment_transaction>
                </entities>
            </payperrentals_mysql4>
            <dataflow>
                <rewrite>
                    <convert_parser_csv>ITwebexperts_Payperrentals_Model_Convert_Parser_Csv</convert_parser_csv>
                </rewrite>
            </dataflow>
            <catalog>
                <rewrite>
                    <convert_adapter_product>ITwebexperts_Payperrentals_Model_Convert_Adapter_Reservationprices</convert_adapter_product>
                </rewrite>
            </catalog>
            <cataloginventory>
                <rewrite>

                    <stock_item>ITwebexperts_Payperrentals_Model_CatalogInventory_Stock_Item</stock_item>
                    <observer>ITwebexperts_Payperrentals_Model_CatalogInventory_Observer</observer>
                </rewrite>
            </cataloginventory>
            <customer>
                <rewrite>
                    <convert_adapter_customer>ITwebexperts_Payperrentals_Model_Customer_Convert_Adapter_Customerqueue</convert_adapter_customer>
                </rewrite>
            </customer>
            <sales>
                <rewrite>
                    <order_pdf_items_invoice_default>ITwebexperts_Payperrentals_Model_Order_Pdf_Items_Invoice_Default</order_pdf_items_invoice_default>
                    <order_pdf_invoice>ITwebexperts_Payperrentals_Model_Order_Pdf_Invoice</order_pdf_invoice>
                    <pdfcustomiser_invoice>ITwebexperts_Payperrentals_Model_Order_Pdf_Invoice</pdfcustomiser_invoice>
                    <order_pdf_items_shipment_default>ITwebexperts_Payperrentals_Model_Order_Pdf_Items_Shipment_Default</order_pdf_items_shipment_default>
                    <order_pdf_shipment>ITwebexperts_Payperrentals_Model_Order_Pdf_Shipment</order_pdf_shipment>
                    <order_pdf_items_creditmemo_default>ITwebexperts_Payperrentals_Model_Order_Pdf_Items_Creditmemo_Default</order_pdf_items_creditmemo_default>
                    <order_pdf_creditmemo>ITwebexperts_Payperrentals_Model_Order_Pdf_Creditmemo</order_pdf_creditmemo>
                    <quote_address_total_subtotal>ITwebexperts_Payperrentals_Model_Sales_Quote_Address_Total_Subtotal</quote_address_total_subtotal>
                </rewrite>
            </sales>
            <catalog>
                <rewrite>
                    <resource_eav_mysql4_product_collection>ITwebexperts_Payperrentals_Model_Catalog_Resource_Eav_Mysql4_Product_Collection</resource_eav_mysql4_product_collection>
                </rewrite>
            </catalog>
        </models>

        <resources>
            <payperrentals_setup>
                <setup>
                    <module>ITwebexperts_Payperrentals</module>
                    <class>Mage_Catalog_Model_Resource_Eav_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </payperrentals_setup>
            <payperrentals_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </payperrentals_write>
            <payperrentals_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </payperrentals_read>
        </resources>
        <blocks>
            <payperrentals>
                <class>ITwebexperts_Payperrentals_Block</class>
            </payperrentals>
            <adminhtml>
                <rewrite>
                    <!--<catalog_product_grid>ITwebexperts_Payperrentals_Block_Adminhtml_Catalog_Product_Grid</catalog_product_grid>-->
                    <dashboard_diagrams>ITwebexperts_Payperrentals_Block_Adminhtml_Dashboard_Diagrams</dashboard_diagrams>
                </rewrite>
            </adminhtml>
            <catalog>
                <rewrite>
                    <product_price>ITwebexperts_Payperrentals_Block_Catalog_Product_Priceppr</product_price>
                </rewrite>
            </catalog>
            <bundle>
                <rewrite>
                    <catalog_product_price>ITwebexperts_Payperrentals_Block_Bundle_Catalog_Product_Priceppr</catalog_product_price>
                </rewrite>
            </bundle>
            <sales>
                <rewrite>
                    <order_history>ITwebexperts_Payperrentals_Block_Sales_Order_History</order_history>
                    <order_info_buttons>ITwebexperts_Payperrentals_Block_Sales_Order_Info_Buttons</order_info_buttons>
                </rewrite>
            </sales>
        </blocks>
        <helpers>
            <payperrentals>
                <class>ITwebexperts_Payperrentals_Helper</class>
            </payperrentals>
            <bundle>
                <rewrite>
                    <catalog_product_configuration>ITwebexperts_Payperrentals_Helper_Bundle_Catalog_Product_Configuration</catalog_product_configuration>
                </rewrite>
            </bundle>
            <catalog>
                <rewrite>
                    <product_configuration>ITwebexperts_Payperrentals_Helper_Catalog_Product_Configuration</product_configuration>
                </rewrite>
            </catalog>
        </helpers>
        <importexport>
            <import_product_types>
                <reservation>payperrentals/import_entity_product_type_reservation</reservation>
                <membershippackage>payperrentals/import_entity_product_type_membershippackage</membershippackage>
            </import_product_types>
            <export_product_types>
                <reservation>payperrentals/export_entity_product_type_reservation</reservation>
            </export_product_types>
        </importexport>

        <template>
            <email>
                <payperrentals_notificationemails_return_reminder_auto>
                    <label>Payperrentals - Notification Reminder</label>
                    <file>payperrentals/payperrentals_notification_reminder.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_return_reminder_auto>
                <payperrentals_notificationemails_return_reminder>
                    <label>Payperrentals - Notification Return Reminder</label>
                    <file>payperrentals/payperrentals_notification_return_reminder.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_return_reminder>
                <payperrentals_notificationemails_extend_reminder_email>
                    <label>Payperrentals - Notification Extend Reminder</label>
                    <file>payperrentals/payperrentals_notification_extend_reminder.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_extend_reminder_email>
                <payperrentals_notificationemails_tobebilled_email>
                    <label>Payperrentals - Notification To Be Billed Reminder</label>
                    <file>payperrentals/payperrentals_notification_tobebilled_reminder.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_tobebilled_email>
                <payperrentals_notificationemails_send_email>
                    <label>Payperrentals - Notification on Send</label>
                    <file>payperrentals/payperrentals_notification_send.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_send_email>
                <payperrentals_notificationemails_send_queue_email>
                    <label>Payperrentals - Notification on Send Queue</label>
                    <file>payperrentals/payperrentals_notification_send_queue.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_send_queue_email>
                <payperrentals_notificationemails_return_email>
                    <label>Payperrentals - Notification on Return</label>
                    <file>payperrentals/payperrentals_notification_return.html</file>
                    <type>html</type>
                </payperrentals_notificationemails_return_email>
            </email>
        </template>
    </global>
    <crontab>
        <jobs>
            <return_reminder_send>
                <schedule>
                    <cron_expr>0 6 * * *</cron_expr>
                </schedule>
                <run>
                    <model>payperrentals/observer::sendReturnEmail</model>
                </run>
            </return_reminder_send>
        </jobs>
    </crontab>
    <default>
        <customer>
            <address_templates>
                <html_special>{{depend prefix}}{{var prefix}} {{/depend}}{{var firstname}} {{depend middlename}}{{var
                    middlename}} {{/depend}}{{var lastname}}{{depend suffix}} {{var suffix}}{{/depend}}&lt;br/&gt;
                    {{depend company}}{{var company}}&lt;br /&gt;{{/depend}}
                    {{if street1}}{{var street1}}&lt;br /&gt;{{/if}}
                    {{depend street2}}{{var street2}}&lt;br /&gt;{{/depend}}
                    {{depend street3}}{{var street3}}&lt;br /&gt;{{/depend}}
                    {{depend street4}}{{var street4}}&lt;br /&gt;{{/depend}}
                    {{if city}}{{var city}}, {{/if}}{{if region}}{{var region}}, {{/if}}{{if postcode}}{{var
                    postcode}}{{/if}}&lt;br/&gt;
                    {{var country}}&lt;br/&gt;
                </html_special>
            </address_templates>
        </customer>
        <payperrentals>
            <global>
                <use_pprbox_left>0</use_pprbox_left>
                <use_pprbox_right>0</use_pprbox_right>
                <use_pprbox_header>0</use_pprbox_header>
                <use_pprbox_homepage>0</use_pprbox_homepage>
                <use_pprbox_shopping_cart>0</use_pprbox_shopping_cart>
                <use_categories_box>0</use_categories_box>
                <use_list_buttons>0</use_list_buttons>
                <show_midnight_global_calendar>0</show_midnight_global_calendar>
                <use_nonsequential_dates>0</use_nonsequential_dates>
                <disable_clicking_rent_if_dates_not_selected>0</disable_clicking_rent_if_dates_not_selected>
                <hide_products_not_available>0</hide_products_not_available>
                <show_availability_on_listing>1</show_availability_on_listing>
                <show_calendar_product_info>0</show_calendar_product_info>
            </global>
            <overbooking_admin>
                <allow_admin_overbook>1</allow_admin_overbook>
                <show_admin_overbook_warning>1</show_admin_overbook_warning>
            </overbooking_admin>
            <checkout_options>
                <remove_shipping>0</remove_shipping>
                <deposit_type>0</deposit_type>
            </checkout_options>
            <admin_calendarreport>
                <enddate>turnover</enddate>
            </admin_calendarreport>
            <adminproductgrid>
                <showserials>1</showserials>
            </adminproductgrid>
            <calendar_options>
                <enforce_same_dates>0</enforce_same_dates>
                <use_global_days>1</use_global_days>
                <time_increment>60</time_increment>
                <theme_calendar_style>default</theme_calendar_style>
                <show_calendar_no_inputs>0</show_calendar_no_inputs>
                <future_limit>0</future_limit>
            </calendar_options>
            <advanced_not_used>
                <show_start_end_columns_on_editor>1</show_start_end_columns_on_editor>
                <show_start_end_text_on_editor>0</show_start_end_text_on_editor>
                <hide_addresses>0</hide_addresses>
                <allow_buyout>1</allow_buyout>
            </advanced_not_used>
            <create_order_admin>
                <admin_time_dropdown>1</admin_time_dropdown>
            </create_order_admin>

            <appearance_inventory>
                <reserve_inventory_noinvoice>1</reserve_inventory_noinvoice>
                <use_reserveby_status>0</use_reserveby_status>
                <use_reserve_inventory_send_return>1</use_reserve_inventory_send_return>
                <use_reserve_inventory_dropoff_pickup>1</use_reserve_inventory_dropoff_pickup>
            </appearance_inventory>
            <appearance_turnover>
                <show_turnover>0</show_turnover>
                <exclude_disabled_from_turnover>0</exclude_disabled_from_turnover>
            </appearance_turnover>
            <appearance_price>
                <sort_price_list>1</sort_price_list>
                <sort_price_list_type>1</sort_price_list_type>
            </appearance_price>
            <appearance_sso>
                <use_sso>0</use_sso>
            </appearance_sso>
            <extend_order>
                <enable_extend>0</enable_extend>
            </extend_order>
            <appearance_period>
                <show_min_max_details_page>0</show_min_max_details_page>
                <use_minimum_rental_period>0</use_minimum_rental_period>
                <min_qty_allowed>1</min_qty_allowed>
                <max_qty_allowed>10000</max_qty_allowed>
            </appearance_period>
            <listing>
                <show_price>-1</show_price>
                <allow_listing_qty>1</allow_listing_qty>
                <prices_on_listing>1</prices_on_listing>
                <no_calendar_use_today_with_fixed_selection>0</no_calendar_use_today_with_fixed_selection>
                <nr_calendars>1</nr_calendars>
                <hide_time_periods_numbers>0</hide_time_periods_numbers>
                <show_buyout_price>1</show_buyout_price>
                <keep_listing_price_after_selection>1</keep_listing_price_after_selection>
                <show_next_available_date_listing>0</show_next_available_date_listing>
                <show_next_available_date_view>0</show_next_available_date_view>
                <hide_end_date_product>0</hide_end_date_product>
                <add_start_date>0</add_start_date>
            </listing>
            <rental>
                <show_rental_link>1</show_rental_link>
                <addressfirst>0</addressfirst>
                <includeproduct>1</includeproduct>
            </rental>
            <store>
                <store_open_time>07:00</store_open_time>
                <store_close_time>17:00</store_close_time>
                <hotel_mode>0</hotel_mode>
                <price_no_disabled_days>0</price_no_disabled_days>
                <time_format>12h</time_format>
                <disabled_days_week_from>0</disabled_days_week_from>
            </store>
            <contract>
                <contract_title>Rental Agreement</contract_title>
                <items>1</items>
                <signature>0</signature>
                <terms>This Rental Agreement is effective as of the date of order, and is made between {{config path='general/store_information/name'}}, organized under the laws of {{var store_country}}, with offices at {{config path='general/store_information/address'}}, and  {{var customerfirst}} {{var customerlast}} ("Renter").  Owner and Renter are hereinafter collectively referred to as "Parties".
Owner rents to Renter and Renter rents from Owner, subject to the terms and conditions of this Agreement.
1.  Term.  This Agreement shall commence on the Effective Date and remain in full force and effect until Equipment is returned to Owner.  Renter shall return the Equipment on the end date stated next to each item, unless terminated earlier consistent with the terms herein.
2.  Payment.  Renter shall authorize Owner to charge the debit card or credit card on file with Owner an amount equal to all payments and fees due under this Agreement.
Renter shall also pay other charges in accordance with this Agreement due upon return of Equipment, to the fullest extent allowed by law, including but not limited to:
a) charges for optional services, if any;
b) applicable taxes;
c) loss of, or damage or repair to the Equipment, loss of use, diminution of the Equipment's value caused by damage to it or repair to it, and costs to enforce such charges including  administrative fees for processing the claim and legal expenses;
d) an amount corresponding to the rental price points for late return of the Equipment or the highest amount allowable under law;
e) unless due to the fault of Owner, all fines, penalties, court costs and other expenses relating to the Equipment assessed against Owner or the Equipment during the rental Term;
f) all expenses Owner incurs due to Renter's failure to return the Equipment including costs in locating and recovering the Equipment;
i) all costs incurred to collect unpaid monies due; and
k) twenty-five dollars ($25.00) or the maximum amount allowed by law, whichever is greater, for making payment with insufficient funds.
3.  Care of Equipment.  Equipment can only be used in a careful and proper manner and shall not be used in any way that is inconsistent with Owner's instructions or manuals.
4.  Repair and Alterations.  The costs of all repairs made during the Term shall be paid by Renter, including but not limited to labor, material, parts and other items.  Equipment shall not be serviced or repaired and parts and accessories shall not be replaced without Owner’s prior consent.
5.  Restrictions on Use.  Renter shall not:
    a) permit the Equipment to be used by any person who is not authorized to use such Equipment;
    b) operate or use the Equipment or permit it to be operated or used in violation of law;
    c) operate or use the Equipment or permit it to be operated or used to commit a violation of law; and/or
    d) operate, use, maintain or store the Equipment in a manner likely to cause damage to the Equipment.
6. Loss or Damage.  Renter shall alert Owner to any damage to the Equipment.  Renter shall be responsible for any loss or damage to Equipment and loss of use, diminution of the Equipment’s value caused by damage to it or repair to it and missing equipment.
7.  Condition of Equipment.  The Condition of Equipment Checklist ("Checklist") attached is hereby incorporate by reference.  Renter acknowledges that Renter has examined the Equipment and that it is in good condition except as otherwise specified in the Checklist.  OWNER MAKES NO WARRANTY, EXPRESS OR IMPLIED, COURSE OF DEALING, COURSE OF PERFORMANCE, USAGE OF TRADE OR OTHERWISE, AND EXPRESSLY EXCLUDES AND DISCLAIMS ALL WARRANTIES AND REPRESENTATIONS OF ANY KIND, INCLUDING ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT.
8. Return of Equipment.  Renter shall return Equipment on the date specified in Section 1 in the same condition as Renter received it, except for normal wear and tear.  Renter shall return the Equipment to the agreed return location.  If Equipment is not returned on said date, Owner reserves the right to take any action necessary to regain possession of the Equipment.
9.  Termination.  This Agreement shall terminate on the date specified in Section 1.  Owner reserves the right to terminate this Agreement earlier upon notice to Renter.
10.  Indemnification and Liability.  Renter shall indemnify, defend and hold harmless Owner from and against any claim, demand, cause of action, loss or liability (including attorney's fees and expenses of litigation) for any property damage or personal injury arising from Renter's use of Equipment by any cause, except to the extent caused by Owner’s gross negligence or willful misconduct.  The provisions of this Article shall survive the termination of this Agreement with respect to any claims or liability accruing before such termination.  IN NO EVENT SHALL OWNER BE LIABLE FOR ANY INDIRECT, SPECIAL OR CONSEQUENTIAL LOSS OR DAMAGES ARISING FROM RENTER'S USE OF EQUIPMENT, INCLUDING BUT NOT LIMITED TO LOSS PROFITS AND LOSS REVENUE, EVEN IF INFORMED OF THE POSSIBILITY OF SUCH DAMAGES.
11.  Ownership.  Owner shall at all times retain ownership and title to the Equipment.  Renter shall immediately notify Owner in the event Equipment is levied, has a lien attached or is threatened with seizure.   Renter shall indemnify and hold Owner harmless against all loss and damages caused by such action.  Equipment shall be deemed at all times to be personal property, whether or not it may be attached to any other property.
12. Waiver.  No failure of Owner to exercise or enforce any of its rights under this Agreement shall act as a waiver of subsequent breaches; and the waiver of any breach shall not act as a waiver of subsequent breaches.  Owner's acceptance of payment with knowledge of a default by Renter shall not constitute a waiver of any breach.
13. Severability.  In the event any provision of this Agreement is held by a court or other tribunal of competent jurisdiction to be unenforceable, that provision will be enforced to the maximum extent permissible under applicable law, and the other provisions of this Agreement will remain in full force and effect. The parties further agree that in the event such provision is an essential part of this Agreement, they will begin negotiations for a suitable replacement provision.
14. Entire Agreement.  This Agreement represents the entire understanding relating to the subject matter hereof and prevails over any prior or contemporaneous, conflicting or additional communications.  This Agreement can only be modified by a written amendment signed by the party against whom enforcement of such modification is sought.
15. Assignment.  Renter may not, without the prior written consent of Owner, transfer or assign this Agreement or any part thereof.  Any attempt to do so shall be a material default of this Agreement and shall be void.
16. Counterparts. This Agreement, and any amendment thereof, may be executed in two or more counterparts, each of which shall be deemed an original, but all of which together shall constitute one and the same document.
Renter acknowledges receipt of a copy of this Agreement and acknowledges having read and understood the foregoing.</terms>
                <digitalsignature>1</digitalsignature>
                <checkoutsignature>0</checkoutsignature>
                <attachorder>1</attachorder>
            </contract>
            <notificationemails>
                <reminder_days>3</reminder_days>
                <return_reminder>payperrentals_notification_reminder</return_reminder>
                <return_email>payperrentals_notification_return</return_email>
                <send_email>payperrentals_notification_send</send_email>
                <use_send_return_auto_email>0</use_send_return_auto_email>
                <extend_reminder_days>3</extend_reminder_days>
            </notificationemails>
        </payperrentals>

        <sales>
            <totals_sort>
                <depositppr>15</depositppr>
                <damagewaiver>16</damagewaiver>
            </totals_sort>
        </sales>
    </default>
    <phpunit>
        <suite>
            <modules>
                <ITwebexperts_Payperrentals/>
            </modules>
        </suite>
    </phpunit>
</config>